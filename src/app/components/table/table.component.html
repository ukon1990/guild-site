<mat-paginator *ngIf="data.length > pageRows[0]"
  [length]="data.length"
  [pageSize]="pageEvent.pageSize"
  [pageSizeOptions]="pageRows"
  [pageIndex]="pageEvent.pageIndex"
  (page)="pageChange($event)">
</mat-paginator>
<table class="table table-hover table-bordered table-striped table-sm">
  <thead>
    <tr>
      <td *ngFor="let c of columns" (click)="sort(c.key)">
        <wah-sort-icon [key]="sorter.getKey(c.key)"></wah-sort-icon>
        {{ c.title }}
      </td>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let d of data | slice:getFromValue():getToValue(); let i = index">
      <td *ngFor="let c of columns;">
        <span [ngSwitch]="c.dataType">
          <span *ngSwitchCase="'name'">
            {{ d[c.key] }}
          </span>
          <span *ngSwitchCase="'spec'">
            <mat-select [(ngModel)]="d[c.key]" (change)="changeSpec(d, $event)">
              <mat-option *ngFor="let spec of d.specs" [value]="spec.name">
                {{ spec.name }}
              </mat-option>
            </mat-select>
          </span>
          <span *ngSwitchCase="'percent'">
            {{ d[c.key] | percent }}
          </span>
          <span *ngSwitchCase="'number'">
            {{ d[c.key] | number }}
          </span>
          <span *ngSwitchCase="'date'">
            {{ d[c.key] | date}}
          </span>
          <span *ngSwitchDefault>{{ d[c.key] }}</span>
        </span>
      </td>
    </tr>
  </tbody>
</table>

<mat-paginator *ngIf="data.length > pageRows[0]"
  [length]="data.length"
  [pageSize]="pageEvent.pageSize"
  [pageSizeOptions]="pageRows"
  [pageIndex]="pageEvent.pageIndex"
  (page)="pageChange($event)">
</mat-paginator>
